using Statistics, Plots, Random
using LinearAlgebra
using Distributed, ProgressMeter 
#include("GroupIWord2Vec.jl")
using GroupIWord2Vec


model = load_text_model("data/wiki.en.vec")
germany =  get_word_embedding(model, "germany")
team_str = "-0.65398 -0.16966 -0.34981 0.39667 -0.42664 -0.075153 0.059407 0.045785 -0.29527 -0.2451 0.12017 -0.028032 0.20108 -0.029071 0.25253 -0.31646 -0.15195 0.17076 0.31405 0.43681 -0.10074 -0.11138 0.082594 0.13266 0.044793 -0.17278 0.061196 -0.11738 -0.17216 0.31848 0.27359 -0.013458 -0.23732 0.059553 -0.0029666 -0.35684 0.50161 0.31745 -0.050448 -0.12704 0.39116 0.32415 0.13797 0.033228 0.43631 -0.13866 0.077202 0.29273 0.21816 0.42386 0.029208 -0.34362 -0.018073 -0.045898 0.034509 -0.40266 0.20486 0.33692 -0.082034 0.26243 0.15231 -0.30651 -0.12579 -0.23959 -0.12593 0.090745 -0.010624 -0.25832 -0.4844 0.098986 0.3393 0.13819 -0.0086807 -0.59506 0.037135 0.18085 0.23985 -0.30967 -0.10148 -0.17618 -0.32082 0.096802 -0.24591 0.057463 -0.077628 -0.10064 -0.23154 -0.19826 0.16165 -0.29922 -0.22913 -0.1272 0.3657 0.39751 0.16954 0.078879 0.094865 -0.0064163 -0.13524 -0.27822 0.33415 0.073928 0.038107 -0.038782 0.28445 0.013273 0.34513 -0.016024 -0.055387 -0.18233 -0.030241 -0.0568 0.080688 0.41306 -0.069433 -0.11593 0.18148 0.57579 -0.35439 -0.14954 0.22949 -0.021401 -0.22574 0.032983 0.28496 -0.2444 0.56428 0.27931 -0.081341 -0.029487 -0.16763 0.23146 -0.51285 -0.16312 -0.10144 -0.086669 -0.14645 -0.35756 0.0044937 0.54596 -0.27604 -0.026918 0.45539 0.069067 0.53201 0.1788 0.33365 -0.046265 0.03755 -0.25689 0.091694 0.23297 -0.046139 0.14183 -0.48041 -0.089476 -0.087632 -0.46163 0.077675 0.090215 0.12426 -0.33985 -0.17751 -0.30674 0.79849 0.15644 -0.41451 0.59923 0.11277 0.035359 0.12009 -0.1047 -0.058756 0.10232 -0.11901 0.79351 -0.20289 -0.15511 -0.1215 -0.19642 0.060591 0.13933 -0.046517 -0.25958 -0.39926 0.12661 0.10226 -0.52038 0.44324 -0.4443 -0.12426 0.27222 0.10362 0.29432 -0.33162 -0.16706 -0.19466 0.3228 -0.084685 -0.41875 0.19601 0.097001 0.14635 0.11507 0.079829 0.011428 -0.0020601 0.081876 0.38116 -0.077098 0.50947 -0.26865 -0.18447 -0.18381 -0.076132 -0.15705 -0.148 0.14413 0.14905 0.10396 -0.4 -0.074567 -0.29085 0.44991 -0.071661 0.15135 -0.29063 -0.25159 0.0077423 0.49336 0.26623 0.10775 -0.14479 -0.089161 -0.20153 0.074814 0.13382 0.12208 0.1235 0.01031 0.064102 0.1244 0.26921 0.14946 0.47981 0.11891 0.072451 0.23521 -0.66894 0.026628 0.025449 0.050326 0.31396 -0.24424 0.20225 0.011259 0.12181 -0.41117 0.15232 0.14716 0.087064 -0.0080595 0.50214 -0.0084723 -0.47949 0.24652 0.35515 0.36791 0.053035 -0.37553 0.23588 0.044528 -0.43712 0.084474 -0.35697 -0.052381 -0.057837 0.26952 0.23565 -0.021268 -0.010105 0.24131 0.064086 -0.39949 0.057556 0.21088 0.41121 0.3957 -0.31234 -0.25644 0.073138 -0.65492 0.27123 -0.21063 0.054193 -0.2357 -0.0061772 -0.21022 -0.015745 0.085533 "
american_str = "-0.17814 0.021955 0.15505 -0.099185 -0.27303 0.2069 -0.078039 -0.10141 -0.1762 0.25109 0.14317 0.12695 0.013783 -0.32117 -0.18242 0.24378 0.03081 -0.24322 -0.20234 0.089927 -0.42863 0.26754 -0.30416 -0.25869 0.28481 0.01224 0.27936 0.23353 0.50181 0.21834 0.064719 -0.012249 -0.4692 -0.086933 -0.10333 0.074404 0.002556 -0.094726 0.3412 -0.0021412 -0.054657 -0.22297 -0.29429 0.19442 -0.33078 -0.34079 -0.1432 -0.2667 -0.10396 -0.32391 0.029696 -0.014755 0.069155 -0.28558 -0.47641 0.049965 0.2327 0.15873 0.27182 0.69888 0.23516 0.01731 0.5599 -0.059756 0.12832 -0.065076 -0.17365 0.07315 -0.26237 -0.076697 0.14156 -0.37231 0.077497 -0.17971 0.011276 0.063538 0.19445 -0.25374 0.0031444 0.10546 0.017845 0.056909 0.042267 0.09863 -0.30088 -0.11199 -0.16839 0.10943 0.15437 0.29943 -0.011852 -0.19011 0.27708 -0.27608 0.15134 -0.25962 0.035183 0.21864 -0.42442 0.29946 -0.068205 -0.028959 0.31467 -0.073441 0.17675 -0.0109 0.068566 0.12738 -0.016132 0.1053 0.17893 -0.22539 -0.18286 -0.039407 -0.10367 0.38248 0.088434 0.18616 -0.067612 -0.08458 0.217 -0.23181 -0.17957 0.16475 -0.090403 0.010813 0.058231 0.19045 -0.0037158 0.061612 0.19022 -0.011215 -0.091676 0.01718 0.10128 0.17365 -0.12937 -0.22261 0.13682 0.084329 0.11779 -0.0010732 0.29977 -0.029216 -0.22304 0.43209 -0.0029062 0.014512 0.0084956 -0.26431 -0.1414 -0.27934 -0.39745 -0.2306 -0.44517 0.070579 -0.10163 0.0029622 0.35362 0.39292 0.20384 0.18424 -0.094832 0.14235 0.38118 -0.031478 0.25874 0.00025493 0.26868 -0.41585 -0.10672 0.38325 -0.074869 -0.0609 0.05302 0.20744 -0.23796 -0.028788 -0.17704 -0.095766 0.01635 -0.029296 -0.16783 0.039242 -0.25568 0.52242 -0.28106 -0.15574 -0.072394 -0.097651 0.11953 -0.17638 0.037532 -0.043097 0.08715 0.23321 -0.10217 0.38121 -0.094865 0.13887 0.26207 0.044105 0.14945 0.029885 -0.068417 -0.27626 -0.1516 -0.69775 0.55712 0.062967 0.59965 -0.14932 0.23032 -0.020874 -0.19812 -0.20424 -0.08505 -0.47102 -0.34162 0.19458 -0.23252 -0.30705 -0.10517 0.49428 -0.19124 0.11929 0.045211 -0.20592 0.082783 0.26686 0.38932 0.30137 0.027935 0.076626 0.080591 -0.17228 0.13917 -0.045914 0.13949 0.17192 -0.10865 0.42163 0.13456 -0.028841 0.077871 0.13395 -0.3189 -0.080554 0.31202 0.13109 0.31024 0.27055 0.1501 -0.10647 0.13359 0.41551 0.34962 0.19734 0.20257 0.55784 -0.28603 -0.042326 0.2778 -0.21109 -0.3705 -0.092742 0.0038481 0.50462 0.42018 -0.16981 -0.094061 -0.18785 -0.23779 -0.077147 0.010325 0.090652 -0.18029 0.17065 -0.047728 -0.035796 -0.11494 0.63033 0.10139 0.067471 0.30453 0.22438 -0.22147 0.34278 -0.10598 0.47833 0.14666 0.10379 0.42018 0.083425 -0.43787 -0.10404 0.15555 0.26603 -0.17047 -0.20729 "
people_str = "-0.18904 -0.0060955 0.17664 -0.1551 -0.31886 -0.19349 0.028729 -0.18951 -0.059563 0.18212 0.26391 0.26106 -0.19818 -0.10295 -0.23183 -0.034002 -0.33035 -0.20227 0.20207 0.049372 -0.066406 0.13397 -0.021476 -0.10524 -0.019948 0.049189 0.39666 -0.12545 -0.24825 0.31195 -0.15038 0.20861 -0.66122 0.17057 0.13622 -0.086348 -0.036075 -0.158 0.19955 0.36775 -0.35637 -0.018656 -0.03945 0.047299 0.33251 0.49576 0.011627 -0.12662 -0.19955 -0.13496 -0.031604 0.084278 -0.00088686 -0.021137 -0.042625 0.05959 -0.07074 -0.012893 -0.17834 0.23333 -0.26474 -0.1681 0.31222 -0.02476 -0.073097 0.012875 -0.02417 0.031449 -0.11147 0.19393 -0.10097 0.20565 0.44183 -0.34442 0.31633 -0.18494 0.24902 0.01189 -0.37678 -0.36856 -0.3234 0.10022 0.31117 0.23776 0.17438 -0.057654 -0.089945 0.29086 0.078267 0.029959 0.21061 0.13605 0.28215 -0.46272 -0.16089 0.2232 0.2343 0.050995 0.051689 -0.11358 -0.093533 0.38209 -0.21496 -0.52718 -0.44801 0.22312 -0.12194 -0.16079 0.17599 0.1325 0.57215 -0.045787 -0.39375 -0.02876 -0.18495 0.055877 0.38101 -0.010387 -0.30994 0.16415 -0.17603 -0.064731 -0.24216 0.1437 -0.0023777 -0.12474 0.14279 0.17737 0.27145 0.046148 0.096142 0.27569 -0.16928 -0.068955 -0.14369 -0.19753 -0.084424 0.10927 0.025963 0.3121 0.12074 0.30427 0.049774 0.037441 0.28976 -0.010688 -0.15236 -0.031899 0.13813 0.019419 -0.012435 0.047858 0.21456 0.034201 -0.20808 -0.49573 0.33692 -0.067651 -0.050387 -0.20308 -0.29392 0.62286 -0.34168 -0.062339 0.57835 -0.15267 -0.15429 -0.18918 0.68803 0.070699 -0.13678 -0.23595 -0.25227 0.23216 -0.56908 0.26069 -0.24 0.17192 0.033571 -0.10659 0.29385 0.34061 -0.09552 0.31066 -0.0078378 0.23933 0.00984 -0.021138 -0.1788 -0.046346 0.19833 -0.27223 0.1205 0.19981 -0.31488 -0.096613 -0.2177 0.24444 -0.34423 -0.17851 -0.207 -0.23557 -0.079816 0.24642 0.00070893 0.12106 -0.20982 -0.2207 -0.095824 0.34375 0.45887 -0.09032 0.21364 -0.32243 0.051047 0.025595 -0.03888 -0.36033 -0.049995 0.068956 0.02306 -0.33479 -0.10781 0.19563 0.042942 0.2409 -0.092082 0.20205 -0.028472 -0.049433 0.10717 0.069724 -0.15489 -0.24612 -0.1305 0.08178 0.11362 0.090137 0.077621 0.21475 0.013195 -0.27982 0.34427 0.24947 -0.19077 -0.011215 0.037879 0.1576 0.01079 0.055051 0.16133 -0.21535 -0.25201 -0.27721 -0.074579 -0.16421 0.096502 -0.39348 0.24881 -0.0029485 -0.045481 0.0029993 0.043741 -0.43711 -0.26041 0.012057 0.28825 -0.1843 0.026475 0.24676 0.14065 0.10368 -0.27005 -0.21365 -0.22759 0.5363 0.28187 -0.077291 0.23566 -0.23195 0.19219 0.14927 0.04829 0.33027 0.45874 -0.19561 -0.072188 -0.34129 0.10512 0.008399 0.11388 0.0085701 -0.13828 -0.11493 -0.22161 0.11269 -0.68484 -0.027416 0.32802 -0.092465 "

talk_str = "-0.51502 -0.087155 0.29287 0.5651 -0.28805 -0.17474 -0.038578 -0.51808 -0.208 0.057625 -0.25418 -0.070127 0.17217 -0.17911 0.23253 0.0020426 -0.35401 0.046652 0.12056 0.38395 -0.098002 0.35237 -0.041988 0.046982 -0.28973 -0.030722 -0.12125 0.046543 0.018254 0.038112 -0.20077 0.20537 -0.21331 0.15839 -0.44963 -0.09859 -0.042303 0.29175 -0.044655 -0.27497 -0.084447 -0.25379 -0.4609 0.10064 -0.0055138 -0.16253 -0.044512 -0.22172 0.17125 -0.025951 0.031526 -0.378 -0.14173 -0.3983 -0.34191 -0.012546 0.21553 0.055421 0.066442 0.2283 -0.084358 0.082958 0.38922 -0.069284 0.14633 0.12257 0.36995 -0.0031165 0.018671 0.049937 0.091243 0.27755 -0.024257 -0.26027 0.07692 0.28322 0.33993 0.26507 0.067408 -0.033386 -0.18819 0.16684 0.4216 -0.0010725 0.54386 -0.15157 0.10137 0.12335 -0.13373 -0.0099552 0.11231 -0.093794 0.31382 -0.22426 -0.18026 -0.078615 -0.074403 -0.0083639 0.24154 0.26961 0.092677 -0.16979 0.042122 -0.020092 0.36024 0.071364 -0.29228 0.22043 0.066795 0.0076619 -0.30348 0.13248 -0.0071443 0.037317 0.078576 0.016024 0.098381 -0.14786 -0.052254 -0.10443 0.45094 -0.10489 -0.21742 0.47534 0.06089 -0.050889 -0.084747 0.17821 0.035628 0.4539 0.19804 0.22578 -0.077802 0.3353 0.17344 -0.09908 0.059217 -0.17151 0.21276 0.22492 -0.36317 -0.067479 0.15167 0.29204 0.0040326 -0.026961 0.18859 -0.0118 -0.34211 0.11941 0.19878 0.020734 0.26005 -0.054375 -0.13848 -0.030475 -0.10115 0.19098 0.4534 0.29641 0.016614 0.13778 -0.55542 -0.04297 0.0039076 -0.23734 -0.020629 -0.23122 0.19121 0.076433 -0.27428 0.35226 -0.35025 -0.17145 -0.24696 0.26374 -0.035996 -0.42555 0.32856 -0.54186 0.27558 -0.13008 0.10612 -0.057362 -0.40505 0.38429 0.1689 -0.15704 -0.053162 0.19776 -0.20164 -0.22386 -0.0024748 -0.10298 -0.17367 -0.29494 -0.26827 -0.10596 -0.4487 0.10969 0.065727 0.10714 0.28274 -0.036414 0.094313 -0.079026 -0.60359 0.17576 -0.11556 -0.28082 0.5163 -0.15851 0.24633 -0.12513 -0.0021006 0.032827 0.29735 -0.12502 -0.063655 0.30564 0.14165 -0.27447 -0.11954 -0.15022 0.05908 0.055581 -0.33298 -0.36227 -0.1382 -0.012297 -0.0011931 0.17768 0.23547 -0.14427 -0.16888 0.1063 0.1136 -0.018082 0.094457 -0.16756 0.20222 0.14059 0.35022 0.10239 0.057565 0.20441 0.22367 0.48103 0.065504 0.17266 0.31872 -0.43984 -0.30028 0.19134 0.18433 -0.31557 0.14953 -0.1969 0.096832 -0.061628 0.0408 0.091795 -0.21148 -0.013321 0.3421 0.077817 -0.17176 0.23772 -0.39733 0.056059 -0.07854 -0.020592 0.46005 0.17168 -0.26961 -0.17015 0.10934 -0.23509 0.079249 -0.35777 -0.054466 0.4247 -0.23561 -0.099701 -0.051848 -0.14279 0.028812 0.31988 0.21254 0.32248 -0.13966 0.19339 -0.057603 -0.10295 0.33619 -0.14097 -0.048378 0.45479 0.43523 0.14572 "
have_str = "-0.13952 0.032673 -0.26126 0.060333 -0.072865 6.859e-05 0.16065 -0.27848 0.067919 0.29608 0.17328 0.1855 0.091478 -0.12249 0.093476 0.01337 0.013748 0.13742 0.19074 -0.12157 0.012453 0.048378 -0.041583 -0.2059 -0.10408 -0.068403 0.22865 0.15968 -0.12043 0.17138 -0.09117 0.0035199 0.043324 0.23696 -0.022424 0.011824 -0.082673 0.21019 -0.029366 -0.31642 0.093056 -0.042443 0.096904 0.0029256 -0.023544 0.027587 0.18325 0.028752 -0.012757 -0.074628 -0.19008 -0.33032 0.014832 0.023042 -0.30714 -0.0051089 -0.2806 0.28887 -0.28527 0.08489 -0.13245 0.031083 0.096405 -0.083038 0.075022 -0.074193 -0.10781 0.23301 -0.018352 0.076494 -0.12163 0.016636 -0.071522 -0.36442 -0.18188 0.16523 0.24855 0.27905 -0.029587 -0.13194 0.017264 0.032602 0.024678 0.043709 -0.12155 -0.094618 0.034384 0.013231 -0.14725 -0.13656 -0.12586 -0.063581 0.21182 -0.33222 0.27593 0.00076818 0.23512 -0.17294 -0.05502 -0.042188 0.056569 -0.075554 0.10821 -0.10783 -0.12396 -0.21411 -0.097453 0.1037 -0.042007 0.027932 -0.047195 0.0010598 0.0010419 -0.016564 0.061864 0.0024039 0.22027 0.17753 0.03071 0.36608 0.078102 -0.027116 -0.032718 0.37169 0.091258 -0.087317 0.0058107 0.13911 0.022874 0.36481 -0.08171 0.047501 -0.27414 0.17094 0.097376 0.1034 -0.10736 -0.025921 0.12131 -0.16938 -0.11803 0.070568 0.049375 -0.08653 0.075679 0.028489 -0.21527 -0.22059 -0.11428 0.046701 -0.046209 -0.22721 -0.048625 -0.070138 -0.23841 -0.085484 -0.14931 0.23539 0.4079 -0.027133 0.091937 0.28157 -0.27637 -0.06226 0.18938 0.13038 0.052101 -0.16478 0.21915 0.24318 0.062355 -0.082933 -0.34179 0.028754 -0.28708 0.086175 0.17013 0.2272 0.015207 -0.24225 0.041857 -0.19292 0.1254 0.20591 0.085465 -0.092265 0.18977 -0.17464 0.19815 -0.12635 -0.082679 -0.35229 -0.058289 0.044128 -0.15709 -0.37541 0.12154 0.061869 -0.24952 -0.014607 0.14386 0.036606 0.053013 -0.016534 -0.090166 0.078929 0.10665 0.11283 0.23588 0.18032 0.21043 -0.033601 0.029407 -0.022544 0.061579 0.020573 0.0072942 -0.10252 0.074378 0.19089 -0.33314 -0.31071 0.027403 -0.14254 -0.12556 0.12013 -0.059785 -0.096796 -0.10645 0.10526 0.010426 0.1235 -0.03647 -0.045269 0.0084907 0.072174 0.0030122 -0.12617 0.083128 0.30058 0.10765 0.053047 0.20872 0.0082084 -0.13375 0.23055 -0.0061244 0.019615 -0.023229 0.063003 0.15248 0.0087041 -0.2119 -0.012478 -0.037575 0.0078768 -0.01821 0.010409 0.0086983 -0.096311 0.17742 0.22879 -0.15267 -0.087855 -0.26727 0.083071 -0.15516 0.27652 -0.12538 0.089815 0.063362 0.0892 0.17262 -0.13381 -0.11419 -0.19908 0.23679 0.20202 0.11059 0.034961 0.039949 0.029348 0.070962 -0.14683 -0.039284 -0.03305 -0.046532 0.058446 -0.066828 0.36073 -0.0019005 0.066695 0.078978 0.057812 0.041522 -0.17791 -0.27556 0.23043 0.10307 -0.042208 "
had_str = "-0.061011 0.010058 -0.32809 0.092396 0.077896 -0.074404 0.027325 -0.24711 0.041686 0.36376 0.35095 0.29423 -0.11997 0.15142 -0.024691 0.045448 -0.07513 -0.059566 0.037441 0.07562 -0.017107 0.19917 0.052938 -0.31778 -0.27666 0.012372 -0.029857 0.17197 0.011413 0.063864 -0.013924 0.14229 -0.10703 0.22473 0.12469 -0.094732 -0.0056683 -0.064609 0.27862 -0.21153 0.37863 -0.094905 0.08367 -0.062527 -0.21712 -0.19702 0.14912 0.064912 0.090079 0.19501 -0.22187 -0.21876 -0.087046 0.36006 -0.17492 -0.067935 -0.049181 0.32526 -0.032316 0.093609 -0.045662 -0.11957 -0.0064419 -0.22971 0.23226 -0.071414 -0.12826 0.2421 -0.16111 0.074486 0.010463 -0.056933 -0.0915 -0.21807 -0.07052 0.20005 0.078136 0.2854 0.01052 -0.21247 -0.042688 -0.15003 0.11813 0.045613 -0.10047 -0.16224 -0.077305 -0.024148 -0.17841 -0.14778 -0.21352 -0.23945 0.058054 -0.32745 0.2449 0.20105 -0.045799 -0.2419 -0.15404 -0.10322 -0.13669 0.13554 0.1916 0.055884 -0.20864 -0.21649 0.011421 0.074247 -0.074617 0.064411 -0.022916 0.17333 0.16305 -0.03556 0.18725 0.010497 0.1716 0.18227 0.011231 0.19926 0.067768 0.2261 -0.13265 0.29135 0.15683 -0.22068 -0.11423 0.35239 0.015702 0.27533 -0.196 -0.0033808 -0.019336 -0.13076 -0.029763 -0.089218 -0.08591 0.017903 -0.061072 -0.1171 -0.0994 0.1007 0.03207 -0.049386 0.29804 0.2271 -0.12743 -0.23118 -0.10164 0.093309 0.036243 -0.015077 -0.034213 0.13656 -0.215 0.0071517 -0.11725 0.095421 0.41258 -0.12583 -0.067009 0.25806 -0.16428 0.22923 0.16807 -0.013319 0.1967 0.018716 0.19311 0.20619 0.041045 0.034263 -0.2587 0.10851 -0.14957 0.035486 -0.086389 0.19412 -0.28292 -0.12153 0.16414 -0.18647 -0.19356 0.26416 -0.13187 0.022635 0.030464 -0.28223 0.00356 -0.10424 0.12317 -0.29917 0.10044 0.14291 -0.22859 -0.15776 0.007948 0.019064 -0.17401 -0.17237 -0.094723 -0.085559 0.0053709 0.13346 -0.25342 0.056775 0.18015 0.054191 0.33902 0.25988 0.26561 -0.22873 -0.19818 -0.198 -0.062444 0.029075 -0.16799 -0.22731 -0.092907 0.13173 -0.25092 -0.086115 -0.0028387 0.028784 0.0019845 0.20323 0.069265 -0.017484 -0.069008 0.16074 0.015613 0.034536 0.010574 0.13477 -0.077238 -0.0061589 0.24216 0.10708 -0.013645 0.25305 0.11657 -0.017901 0.19301 0.15569 -0.22554 0.04049 -0.031989 -0.22953 0.041539 -0.011057 0.12676 -0.040454 -0.094416 0.024619 -0.068569 0.031699 -0.076244 0.20514 -0.16025 0.14737 0.037748 -0.076004 -0.04185 -0.18805 -0.37238 0.30261 0.10804 0.13789 0.091484 -0.05138 -0.10155 -0.045579 0.0775 0.030727 -0.23318 -0.21796 0.32142 0.35826 0.37295 -0.078928 0.14607 -0.12589 0.16444 -0.052781 -0.046721 0.12549 -0.12333 0.056958 0.066646 -0.026705 0.060562 -0.092281 -0.12031 0.2859 -0.051593 -0.039909 -0.068784 0.060296 -0.036769 -0.081526 "
been_str = "-0.1477 -0.13477 -0.2475 0.02076 -0.13587 0.12788 0.10769 -0.34265 -0.14884 0.28341 -0.0099212 0.27009 0.028468 0.012028 0.12074 -0.11319 0.031134 0.13722 0.08244 0.090114 -0.039155 0.207 -0.17441 -0.46096 -0.13696 -0.0038776 0.11981 0.20182 0.080932 0.14176 -0.12591 0.21687 0.0010702 0.2635 0.066637 0.0011725 0.055957 0.095976 -0.03724 -0.17582 0.14216 -0.14061 0.14911 0.089605 -0.083772 -0.036891 0.11188 0.015942 0.047274 0.19163 -0.34174 -0.26671 -0.30332 0.15135 0.085256 -0.17965 -0.059018 0.2968 -0.14752 0.24992 0.00087438 0.15221 0.11701 -0.0017772 0.4922 0.14307 -0.28457 0.14576 -0.16481 -0.052588 -0.10354 -0.010191 0.06632 -0.30943 -0.058576 0.17096 0.28728 0.32305 -0.10497 -0.27314 0.040203 0.01941 0.058334 -0.11107 0.045268 -0.28341 0.0021492 -0.02673 -0.24905 0.03685 0.018437 0.043619 0.29779 -0.023423 0.067262 -0.021577 0.027047 0.14574 -0.1242 0.0057499 -0.22087 0.082406 0.19025 -0.22731 0.013923 -0.075359 -0.10851 0.26828 -0.27522 -0.03719 -0.11582 0.19715 0.0095723 0.030525 0.003465 0.034414 0.19314 0.14158 0.033836 0.31028 -0.026976 0.16816 -0.22094 0.44517 0.018906 0.063523 0.031337 0.25996 0.13026 0.29794 -0.12269 0.20463 -0.11847 0.12853 0.17572 0.10058 -0.074098 0.099432 -0.14375 -0.006641 -0.1282 0.029715 0.0078677 -0.014492 -0.025692 0.20441 -0.10205 -0.28795 -0.14402 0.2171 0.026392 -0.019398 -0.026873 0.031167 -0.23681 -0.095229 -0.17373 0.010928 0.62986 0.044692 0.1105 0.27522 -0.40513 -0.0082544 0.068675 0.1379 0.36785 0.020965 0.17326 0.25395 0.020348 0.065713 0.010664 0.027053 -0.15869 -0.23314 0.087733 0.10751 0.097722 -0.13846 0.024585 0.017132 0.025672 0.3863 0.16764 -0.008983 0.21617 0.068635 0.17933 0.0065194 -0.15408 -0.48797 0.013831 0.15091 -0.16832 -0.35222 -0.16744 -0.0014162 -0.20537 -0.0014328 -0.13127 0.1691 0.031576 0.026595 -0.23506 0.096983 0.20562 0.15854 0.26697 0.22913 0.29997 -0.16922 -0.22712 0.090185 0.011827 0.024106 0.0079038 -0.012663 -0.048562 0.24817 -0.073063 -0.24561 -0.10296 -0.19988 -0.073753 -0.072046 0.0083721 0.039906 -0.16167 0.05178 -0.12637 0.14349 0.0018635 -0.070317 -0.023958 -0.11765 0.19558 0.25143 0.13778 0.35231 0.066119 0.073639 0.18583 -0.10051 -0.095831 0.042474 0.21821 0.036443 0.13412 0.1169 0.072217 0.16399 0.075131 -0.17558 -0.017305 0.055556 -0.040382 -0.012062 -0.0040065 -0.086663 0.13453 0.21096 -0.14205 -0.18998 -0.30808 0.17079 -0.10165 0.30312 -0.25341 -0.11659 0.045643 0.10542 0.17127 -0.16073 -0.12051 -0.30933 0.40289 0.18351 0.14009 -0.16767 0.10839 0.010342 -0.015383 -0.075649 -0.068229 -0.073173 0.066303 0.097534 -0.01572 0.21127 -0.17418 -0.11655 -0.088314 0.025956 -0.11041 -0.072122 -0.15355 0.24966 0.11398 0.07525 "


team, american, people, talk, have, had, been = [parse.(Float64, split(str)) for str in [team_str, american_str, people_str, talk_str, have_str, had_str, been_str]]


labels = text.(["team", "american", "people", "talk", "have", "had", "been"], :bottom)

all_data = hcat(team, american, people, talk, have, had, been)'

# Center the data
num = 7
#sum(all_data, dims = 1) ./ num
centered_data = all_data .- sum(all_data, dims = 1) ./ num

# Compute the covariance matrix
cov_matrix = cov(centered_data)

# Perform eigen decomposition
eigen_vals, eigen_vecs = eigen(cov_matrix)

eigen_vals
# Sort eigenvalues (and corresponding eigenvectors) in descending order
idx = sortperm(eigen_vals, rev=true)
eigen_vecs = eigen_vecs[:, idx]

# Select the top 2 principal components
pca_components = eigen_vecs[:, 1:2]

# Project the data onto the top 2 principal components
projected_data = pca_components' * centered_data'  

projected_data[1, :]

scatter(projected_data[1, :], projected_data[2, :], 
        title="PCA Projection to 2D",
        xlabel="Principal Component 1",
        ylabel="Principal Component 2",
        legend=false, series_annotations = labels)




# num = 1000
# data_x = rand(Float32, num) .* 5
# data_y = rand(Float32, num)
# #data = [[x,y] for (x, y) in zip(data_x, data_y)]
# data = [data_x, data_y]

# scatter(data[1], data[2])

# M = fit(PCA, data; maxoutdim=1)


# # load iris dataset
# iris = dataset("datasets", "iris")

# # split half to training set
# Xtr = Matrix(iris[1:2:end,1:4])'
# Xtr_labels = Vector(iris[1:2:end,5])

# # split other half to testing set
# Xte = Matrix(iris[2:2:end,1:4])'
# Xte_labels = Vector(iris[2:2:end,5])

# M = fit(PCA, Xtr; maxoutdim=3)
